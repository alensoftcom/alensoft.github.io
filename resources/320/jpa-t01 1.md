# ORM ,JPA & Hibernate

## Materials
+ Persistence
+ ORM
+ JPA
+ Hibernate
+ JPA vs Hibernate

## Persistence

Почти все приложения требуют хранения данных. Базы данных — одно из фундаментальных понятий в разработке приложений. Если бы информационная система не сохраняла данные при выключении, то она была бы малопригодна на практике. Хранение объектов означает, что отдельные объекты могут пережить процесс остановки приложения; их можно сохранить в хранилище данных и воссоздать в более поздний момент времени. Когда мы говорим о персистентности в Java, мы обычно говорим о сопоставлении и хранении экземпляров объектов в базе данных с использованием SQL.

## ORM

**Object/relational mapping** представляет собой автоматизированное (и прозрачное) сохранение объектов в приложении Java в таблицах базы данных SQL с использованием метаданных, описывающих сопоставление между классами приложения и схемой базы данных SQL.

![](media/320-01.png "ОРМ")  
Другими словами, ORM — это метод программирования, который сопоставляет объект с данными, хранящимися в базе данных.

## JPA

А **JPA (Java Persistence API)** это спецификация Java, которая используется для доступа, управления и сохранения данных между объектом Java и реляционной базой данных. Она считается стандартным подходом для объектно-реляционного отображения.

JPA можно рассматривать как мост между объектно-ориентированными моделями доменов и реляционными системами баз данных. Будучи спецификацией, JPA сама по себе не выполняет никаких операций. Таким образом, она требует реализации. Поэтому инструменты ORM, такие как Hibernate, TopLink и iBatis, реализуют спецификации JPA для сохранения данных.

## Hibernate

**Hibernate** это фреймворк Java, который используется для хранения объектов Java в системе реляционной базы данных. Это открытый исходный код, легкий, ORM (Object Relational Mapping) инструмент.

Hibernate — это реализация JPA. Поэтому он следует общим стандартам, предоставляемым JPA.

## JPA vs Hibernate

- **JPA**
    
    - **Java Persistence API (JPA)** определяет управление реляционными данными в приложениях Java.
    - Это просто спецификация. Различные инструменты ORM реализуют ее для сохранения данных.
    - Интерфейс EntityManagerFactory используется для взаимодействия с фабрикой менеджеров сущностей для единицы сохранения. Таким образом, он предоставляет менеджер сущностей.
    - Он использует интерфейс EntityManager для создания, чтения и удаления операций для экземпляров сопоставленных классов сущностей. Этот интерфейс взаимодействует с контекстом сохранения.
    - Он использует **Java Persistence Query Language (JPQL)** как объектно-ориентированный язык запросов для выполнения операций с базами данных.
- **Hibernate**
    
    - **Hibernate** — это инструмент объектно-реляционного отображения (ORM), который используется для сохранения состояния объекта Java в базе данных.
    - Это одна из наиболее часто используемых реализаций JPA.
    - Для создания экземпляров Session используется интерфейс SessionFactory.
    - Он использует интерфейс сеанса для создания, чтения и удаления операций для экземпляров сопоставленных классов сущностей. Он ведет себя как интерфейс времени выполнения между приложением Java и Hibernate.
    - Он использует **Hibernate Query Language (HQL)** как объектно-ориентированный язык запросов для выполнения операций с базами данных.